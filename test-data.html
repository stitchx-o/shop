<!DOCTYPE html>
<html>
<head>
<title>Test Data Loading</title>
<style>
body { font-family: Arial; margin: 20px; }
#status { background: #f0f0f0; padding: 10px; margin: 10px 0; }
#states { max-height: 400px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; }
</style>
</head>
<body>
<h1>اختبار تحميل البيانات</h1>
<div id="status">جاري التحميل...</div>
<div id="states">ستظهر الولايات هنا</div>

<script>
Promise.all([
  fetch('data.json').then(r => r.json()),
  fetch('offices.json').then(r => r.json())
]).then(([data, offices]) => {
    console.log('Data loaded:', data);
    console.log('Offices loaded:', offices);
    
    let html = '✓ data.json تم تحميله بنجاح<br>';
    html += 'عدد الولايات: ' + (data.states ? data.states.length : 0) + '<br>';
    html += 'عدد البلديات: ' + (data.communes ? Object.keys(data.communes).length : 0) + '<br>';
    html += 'عدد خدمات التوصيل: ' + (data.delivery ? Object.keys(data.delivery).length : 0) + '<br>';
    html += 'عدد المكاتب: ' + (offices.offices ? Object.keys(offices.offices).length : 0);
    
    document.getElementById('status').innerHTML = html;
    
    if(data.states) {
        document.getElementById('states').innerHTML = '<strong>قائمة الولايات:</strong><ul>' + 
            data.states.map(s => '<li>' + s.code + ' - ' + s.name + '</li>').join('') + 
            '</ul>';
    }
}).catch(e => {
    document.getElementById('status').innerHTML = '✗ فشل تحميل البيانات: ' + e.message;
    console.error(e);
});
</script>
</body>
</html>
